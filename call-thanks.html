<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù„Ø§ØªØµØ§Ù„ - Ø´Ø±ÙƒØ© Ø§Ù„Ø­Ø¨ÙŠØ¨ Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ù†Ø§Ø²Ù„</title>
  <meta name="description" content="Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§ ÙÙŠ Ø´Ø±ÙƒØ© Ø§Ù„Ø­Ø¨ÙŠØ¨ Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ù†Ø§Ø²Ù„. Ø¬Ø§Ø±ÙŠ ØªØ­ÙˆÙŠÙ„Ùƒ Ø¥Ù„Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¨Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <link rel="canonical" href="https://elhbebclean.github.io/Elhabib_clean_home/call-thanks.html">

  <!-- Ù…Ù‡Ù…: Ù†Ø¹Ø±Ù‘Ù dataLayer Ù…Ø¨ÙƒÙ‘Ø± -->
  <script>
    window.dataLayer = window.dataLayer || [];
  </script>

  <!-- ---------- Ø³ÙƒØ±Ø¨Øª ÙŠÙ„ØªÙ‚Ø· Ø§Ù„Ø±Ù‚Ù… ÙˆÙŠØ¹Ù…Ù„ Ù‡Ø§Ø´ ÙˆÙŠØ¯ÙØ¹Ù‡ Ù„Ù„Ù€ dataLayer ---------- -->
  <script>
    (function(){
      // Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ± Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
      function getParam(name) {
        try { return (new URL(window.location.href)).searchParams.get(name); } catch(e) { return null; }
      }

      // Ø§Ù„ØªÙ‚Ø· Ø§Ù„Ø±Ù‚Ù… Ù…Ù† ?phone= Ø£Ùˆ Ù…Ù† sessionStorage
      var phone = getParam('phone') || null;
      try {
        if (!phone && sessionStorage.getItem && sessionStorage.getItem('userPhone')) {
          phone = sessionStorage.getItem('userPhone');
        }
      } catch(e){ phone = phone || null; }

      if (!phone) {
        // Ù„Ø§ Ù†Ø¯ÙØ¹ Ø£ÙŠ user_data ÙØ§Ø¶ÙŠ â€” Ù†ØªØ±Ùƒ dataLayer ÙƒÙ…Ø§ Ù‡Ùˆ
        window.customerPhone = null;
        return;
      }

      // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø±Ù‚Ù…: Ø§Ø±Ù‚Ø§Ù… ÙÙ‚Ø·
      phone = String(phone).replace(/\D+/g,'').trim();
      if (!phone) { window.customerPhone = null; return; }
      window.customerPhone = phone;

      // SHA-256 helper -> hex
      async function sha256Hex(s){
        const enc = new TextEncoder().encode(String(s));
        const buf = await crypto.subtle.digest('SHA-256', enc);
        return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2,'0')).join('');
      }

      // Ø§Ø­Ø³Ø¨ Ø§Ù„Ù‡ÙØ´ ÙˆØ§Ø¯ÙØ¹Ù‡ ÙÙˆØ±Ù‹Ø§ Ù„Ù„Ù€ dataLayer (Ù‚Ø¨Ù„ ØªØ­Ù…ÙŠÙ„ GTM tags)
      (async function pushHash(){
        try {
          const phoneHash = await sha256Hex(phone);
          // Ø¯ÙØ¹ user_data Ø¨ØµÙŠØºØ© Ù…ØªØ¹Ø§Ø±Ù Ø¹Ù„ÙŠÙ‡Ø§
          window.dataLayer.push({
            'event': 'enhanced_conv_ready',
            'user_data': {
              'phone_number': phoneHash
            }
          });
          // Ø®Ø²Ù‘Ù† Ø§Ù„Ø±Ù‚Ù… Ø®Ø§Ù… Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ø§Ø­Ù‚Ø§Ù‹ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
          try { sessionStorage.setItem('userPhone', phone); } catch(e){}
          console.log('Pushed enhanced_conv_ready with phone hash to dataLayer');
        } catch(err) {
          console.warn('Failed to push enhanced conv data', err);
        }
      })();
    })();
  </script>
  <!-- --------------------------------------------------------------------- -->

  <!-- Google Tag Manager (gtm.js) / Google Ads - ÙŠØ¨Ù‚Ù‰ Ø¨Ø¹Ø¯ Ø¯ÙØ¹ dataLayer -->
  <script>
    (function(w,d,s,l,i){
      w[l]=w[l]||[];
      w[l].push({'gtm.start': new Date().getTime(), event:'gtm.js'});
      var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s), dl=l!='dataLayer'?'&l='+l:'';
      j.async=true;
      j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
      f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KLM4RMFM');
  </script>

  <!-- Google Ads gtag (ÙŠØ¨Ù‚Ù‰ Ø¨Ø¹Ø¯ Ø§Ù„Ù€ dataLayer ÙˆGTM) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-16529004339"></script>
  <script>
    function gtag(){window.dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-16529004339');
  </script>

  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 40px; background-color: #f9f9f9; }
    h1 { color: #28a745; font-size: 28px; }
    p { font-size: 18px; margin-bottom: 20px; }
    a.map-link { display: inline-block; margin-top: 25px; font-size: 18px; color: #007bff; text-decoration: underline; }
    a.call-now { display: inline-block; margin-top: 30px; font-size: 18px; color: white; background: #28a745; padding: 12px 25px; border-radius: 6px; text-decoration: none; }
  </style>
</head>
<body>
  <!-- GTM noscript -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KLM4RMFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

  <h1>âœ… Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§!</h1>
  <p>Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ø§Ù„Ø¢Ù† Ù„Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø± Ø¨Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø®Ù„Ø§Ù„ Ø«ÙˆØ§Ù†Ù Ù‚Ù„ÙŠÙ„Ø©.</p>

  <a id="fallbackCall" href="tel:01016961497" class="call-now">ğŸ“ Ø§Ø¶ØºØ· Ù„Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø¢Ù†</a>

  <h2 style="margin-top: 40px;">ğŸ“ Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Google Maps</h2>
  <a href="https://maps.app.goo.gl/wkatbwKjdm4J5vp48" target="_blank" class="map-link">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ÙØªØ­ Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Google Maps Ù…Ø¨Ø§Ø´Ø±Ø©</a>

  <!-- (Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØµÙØ­Ø© ÙƒÙ…Ø§ Ù‡ÙŠ) -->

  <script>
    /***********************
     * Ø¥Ø±Ø³Ø§Ù„ conversion ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚
     * (Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ±Ø³Ù„ Ø§Ù„Ø­Ø¯Ø« Ø¹Ø¨Ø± gtag Ù„ÙƒÙ†Ù‡ Ù„Ù† ÙŠÙØ±Ø³Ù„ user_data ÙØ§Ø±Øº)
     ***********************/
    (async function sendConversionAndCall(){
      try {
        const phone = window.customerPhone || null;
        // Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ gclid Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ùˆ Ø§Ù„ÙƒÙˆÙƒÙŠØ²
        function getGclid(){
          try {
            const p = (new URL(window.location.href)).searchParams.get('gclid');
            if (p){ document.cookie = "gclid=" + p + "; path=/; max-age=" + 60*60*24*90; return p; }
            const m = document.cookie.match(new RegExp('(^| )gclid=([^;]+)'));
            return m ? m[2] : null;
          } catch(e) { return null; }
        }
        const gclid = getGclid();

        const conversionLabel = 'OIQ7COaD0ewaELOu0sk9';
        const sendTo = 'AW-16529004339/' + conversionLabel;

        // Ù‚Ø¨Ù„ Ø¥Ø±Ø³Ø§Ù„ event Ø¹Ø¨Ø± gtagØŒ Ù†ØªØ­Ù‚Ù‚ Ø¥Ù† DataLayer ÙÙŠÙ‡ user_data (Ù„Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø¯ÙˆÙ† Ø¨ÙŠØ§Ù†Ø§Øª)
        // Ø§Ø¨Ø­Ø« ÙÙŠ Ø¢Ø®Ø± Ø¹Ù†Ø§ØµØ± dataLayer Ø¹Ù† user_data
        function findLatestUserData(){
          try {
            const dl = window.dataLayer || [];
            for (let i = dl.length - 1; i >= 0; i--) {
              if (dl[i] && dl[i].user_data && dl[i].user_data.phone_number) return dl[i].user_data;
            }
          } catch(e){}
          return null;
        }

        const dlUser = findLatestUserData();
        const eventObj = { 'send_to': sendTo, 'value': 100.00, 'currency': 'EGP' };

        if (dlUser && dlUser.phone_number) {
          // Ø¥Ø°Ø§ ÙˆØ¬Ø¯Ù†Ø§ user_data ÙÙŠ dataLayer Ù†Ø±Ø³Ù„Ù‡ Ù…Ø¹ Ø§Ù„Ø­Ø¯Ø« (Ø¢Ù…Ù†)
          eventObj.user_data = { 'phone_number': dlUser.phone_number };
          if (gclid) eventObj.user_data.gclid = gclid;
        } else if (phone) {
          // Ø§Ø­ØªÙŠØ§Ø·: Ù„Ùˆ Ù„Ù… ÙŠØ¯ÙØ¹ Ø§Ù„Ù€ dataLayer (Ù„Ø³Ø¨Ø¨ Ù…Ø§) Ù„ÙƒÙ† Ù„Ø¯ÙŠÙ†Ø§ phone Ø®Ø§Ù…ØŒ Ù†Ø¹Ù…Ù„ Ù‡Ø§Ø´ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø«Ù… Ù†Ø±Ø³Ù„Ù‡
          try {
            const enc = new TextEncoder().encode(String(phone));
            const buf = await crypto.subtle.digest('SHA-256', enc);
            const h = Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');
            eventObj.user_data = { 'phone_number': h };
            if (gclid) eventObj.user_data.gclid = gclid;
          } catch(e){}
        } else {
          // Ù„Ø§ Ù†Ø¶ÙŠÙ user_data ÙØ§Ø¶ÙŠØ©
        }

        // Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬
        if (window.__conversion_sent) return;
        window.__conversion_sent = true;

        // fallback redirect
        let redirected = false;
        const doRedirect = function(){ if (!redirected) { redirected = true; window.location.href = "tel:01016961497"; } };
        const fbTimer = setTimeout(doRedirect, 6000);

        // Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø­Ø¯Ø«
        gtag('event', 'conversion', Object.assign({}, eventObj, {
          'event_callback': function() { clearTimeout(fbTimer); doRedirect(); }
        }));

      } catch(err) {
        console.warn('conversion send failed', err);
        try { window.location.href = "tel:01016961497"; }catch(e){}
      }
    })();
  </script>
</body>
</html>
